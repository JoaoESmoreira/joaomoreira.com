<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JoaoESmoreira</title>
<meta name="description" content="Header" />
<meta name="generator" content="Org Mode" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">
<style>body { max-width: 800px; margin: auto; }</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/github-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<style>
pre code {
display: block;
background-color: #e6e6e6;
color: #000000;
padding: 1em;
border-radius: 6px;
overflow-x: auto;
font-size: 0.95em;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">
<style>body { max-width: 800px; margin: auto; }</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/github-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<style>
pre code {
display: block;
background-color: #e6e6e6;
color: #000000;
padding: 1em;
border-radius: 6px;
overflow-x: auto;
font-size: 0.95em;
}
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">JoaoESmoreira</h1>
<div class="org-header">

    <!--
  <div class="topbar-menu-container">
    <span class="topbar-menu"><a class="current" href="http://localhost:8080/">Home</a></span>
    <span class="topbar-menu"><a href="http://localhost:8080/projects.html">Projects</a></span>
    <span class="topbar-menu"><a href="http://localhost:8080/blog.html">Blog</a></span>
    <span class="topbar-menu"><a href="http://localhost:8080/emacsphere.html">Emacsphere</a></span>
  </div>
    -->

  <div class="topbar-menu-container">
    <span class="topbar-menu"><a href="index.html">Home</a></span>
    <span class="topbar-menu"><a href="projects.html">Projects</a></span>
    <span class="topbar-menu"><a href="blog.html">Blog</a></span>
    <span class="topbar-menu"><a href="emacsphere.html">Emacsphere</a></span>
  </div>

</div>
<div id="outline-container-orgb5ce926" class="outline-2">
<h2 id="orgb5ce926">Data Base Project</h2>
<div class="outline-text-2" id="text-orgb5ce926">
<p>
The main objective of this project is to apply industry-standard
practices in the design, implementation, and deployment of
database-driven applications.  
</p>

<p>
The project covers all key phases of the software development
lifecycle, from initial planning and modeling to testing and delivery,
with a strong emphasis on data management and system reliability.
</p>

<p>
The full repository and documentation can be found here: <a href="https://github.com/JoaoESmoreira/BD-Project/">DB Project
Repository</a>.
</p>
</div>
<div id="outline-container-orgd9c69eb" class="outline-3">
<h3 id="orgd9c69eb">Objectives</h3>
<div class="outline-text-3" id="text-orgd9c69eb">
<p>
The project aims to:
</p>

<ul class="org-ul">
<li>Demonstrate how a database application can be organized, planned, and executed.</li>
<li>Develop both conceptual and physical data models to support and persist application data.</li>
<li>Design, implement, test, and deploy a complete database system.</li>
<li>Install, configure, manage, and tune a modern relational DBMS such as <b>PostgreSQL</b>.</li>
<li>Apply client, and server, side programming using <b>SQL</b> and <b>PL/pgSQL</b>.</li>
</ul>
</div>
</div>
<div id="outline-container-org8fe5b18" class="outline-3">
<h3 id="org8fe5b18">Dependencies</h3>
<div class="outline-text-3" id="text-org8fe5b18">
<p>
To run the project correctly, some technologies are required.  
Follow this simple documentation to help you set up everything properly.
</p>
</div>
<div id="outline-container-org22872d2" class="outline-4">
<h4 id="org22872d2">Technologies Used</h4>
<div class="outline-text-4" id="text-org22872d2">
</div>
<ul class="org-ul">
<li><a id="org1c2724d"></a>Programming Languages<br />
<div class="outline-text-5" id="text-org1c2724d">
<ul class="org-ul">
<li>Python</li>
<li>SQL and PL/pgSQL</li>
</ul>
</div>
</li>
<li><a id="org8a92168"></a>Database Management System<br />
<div class="outline-text-5" id="text-org8a92168">
<ul class="org-ul">
<li>PostgreSQL</li>
</ul>
</div>
</li>
<li><a id="org97f6cc1"></a>Python Libraries<br />
<div class="outline-text-5" id="text-org97f6cc1">
<ul class="org-ul">
<li>Flask</li>
<li>Psycopg2</li>
<li>werkzeug.security</li>
<li>flask<sub>jwt</sub><sub>extended</sub></li>
</ul>
</div>
</li>
<li><a id="org0a7933c"></a>Other Technologies<br />
<div class="outline-text-5" id="text-org0a7933c">
<ul class="org-ul">
<li>Onda</li>
<li>Postman</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org9fc9895" class="outline-4">
<h4 id="org9fc9895">Tips for Dependencies</h4>
<div class="outline-text-4" id="text-org9fc9895">
<p>
Before you do something, check these shell commands and verify what you need to install.
</p>

<pre><code class="language-lisp"># check if already installed:
flask --version

sudo pip3 install flask

# check if it's correctly installed:
python3
>>> import flask
>>>                  # it's all right
>>> from werkzeug.security import generate_password_hash, check_password_hash
>>>                  # it's all right
</code></pre>
</div>
</div>
<div id="outline-container-orgcc27f8d" class="outline-4">
<h4 id="orgcc27f8d">Tools Installation</h4>
<div class="outline-text-4" id="text-orgcc27f8d">
<p>
If you don't have some of the listed dependencies installed, here is how to do it.
</p>
</div>
<ul class="org-ul">
<li><a id="org8d71056"></a>Python and Libraries<br />
<div class="outline-text-5" id="text-org8d71056">
<pre><code class="language-lisp">sudo apt install python3 python3-pip      # Install python and pip

sudo pip install flask
sudo pip install werkzeug
sudo apt install libpq-dev                # In case you don't have this library
sudo pip install psycopg2
pip install flask-jwt-extended
</code></pre>
</div>
</li>
<li><a id="org797e51b"></a>PostgreSQL<br />
<div class="outline-text-5" id="text-org797e51b">
<pre><code class="language-lisp"># Create the file repository configuration:
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'

# Import the repository signing key:
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

# Update the package lists:
sudo apt-get update

# Install the latest version of PostgreSQL:
sudo apt-get -y install postgresql
</code></pre>
</div>
</li>
<li><a id="org3b4fd1d"></a>Postman<br />
<div class="outline-text-5" id="text-org3b4fd1d">
<pre><code class="language-lisp">sudo apt install postman
</code></pre>

<p>
<b>Note:</b>  
If you want to know more, visit:  
</p>
<ul class="org-ul">
<li><a href="https://www.python.org/downloads/">Python</a></li>
<li><a href="https://pip.pypa.io/en/stable/installing/">Pip</a></li>
<li><a href="https://www.postgresql.org/download/">PostgreSQL</a></li>
<li><a href="https://postman.com/">Postman</a></li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org0010489" class="outline-3">
<h3 id="org0010489">DataBase Setup</h3>
<div class="outline-text-3" id="text-org0010489">
<p>
To set up the database, access PostgreSQL DBMS using `psql` or `pgadmin4`.  
We used the <b>psql client</b> with the following command:
</p>

<pre><code class="language-lisp"># Use the default credentials:
# Username: postgres
# Password: postgres

psql -h localhost -p 5432 -U postgres
</code></pre>

<p>
After access, create the database and connect to it:
</p>

<pre><code class="language-lisp">CREATE DATABASE dbshop;

# List databases:
\l

# Connect to the created database:
\c dbshop
</code></pre>

<p>
Then, execute the following commands to build your schema:
</p>

<pre><code class="language-lisp">\i schema.sql       # create tables
\i insert.sql       # insert data
\i trigger.sql      # create triggers
\i drop_tables.sql  # drop all tables (optional)
</code></pre>

<p>
<b>Note:</b>  
If you use pgAdmin4, see:  
</p>
<ul class="org-ul">
<li><a href="https://www.pgadmin.org/docs/pgadmin4/development/database_dialog.html">Create database</a></li>
<li><a href="https://linuxhint.com/run-sql-file-postgresql/">Run SQL file</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgd9fe4dc" class="outline-3">
<h3 id="orgd9fe4dc">User Manual</h3>
<div class="outline-text-3" id="text-orgd9fe4dc">
<p>
Before starting → run the script `test.py` to encrypt the first users’ passwords.  
To run the project → `python3 main.py`
</p>
</div>
<div id="outline-container-org263491c" class="outline-4">
<h4 id="org263491c">Users Login</h4>
<div class="outline-text-4" id="text-org263491c">
<p>
<b>Description:</b> User authentication with username and password.  
A <b>superadmin</b> was created to register other admins and sellers.
</p>

<pre><code class="language-lisp">URL: /api/login
Method: PUT

# Input
{
   "username": "SuperAdmin",
   "password": "SuperAdmin"
}

# Output
{
   "status": 200,
   "token": "TOKEN"
}
</code></pre>
</div>
</div>
<div id="outline-container-org7e1c17a" class="outline-4">
<h4 id="org7e1c17a">Users Registration</h4>
<div class="outline-text-4" id="text-org7e1c17a">
<p>
<b>Description:</b> Only admins can register other admins and sellers.  
Anyone can register as a buyer.
</p>

<pre><code class="language-lisp">URL: /api/register
Method: POST
</code></pre>
</div>
<ul class="org-ul">
<li><a id="org6c79cca"></a>Register admin/seller<br />
<div class="outline-text-5" id="text-org6c79cca">
<pre><code class="language-lisp">{
   "username": "Put a name",
   "nif": 0,
   "email": "Put an email",
   "adress": "Put an address",
   "password": "Put a pass",
   "token": "Token received in login",
   "user_type": "administrator/seller"
}
</code></pre>
</div>
</li>
<li><a id="org07db4c0"></a>Register buyer<br />
<div class="outline-text-5" id="text-org07db4c0">
<pre><code class="language-lisp">{
   "username": "Put a name",
   "nif": 0,
   "email": "Put an email",
   "adress": "Put an address",
   "password": "Put a pass"
}
</code></pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-orge8ef232" class="outline-4">
<h4 id="orge8ef232">Product Creation</h4>
<div class="outline-text-4" id="text-orge8ef232">
<p>
<b>Description:</b> Only sellers can create products.
</p>

<pre><code class="language-lisp">URL: /api/product/add
Method: POST

{
   "type": "Put a type",
   "description": "Put a description",
   "height": 0,
   "weight": 0,
   "colour": "Put a color",
   "stock": 0,
   "price": 0,
   "token": "Token received in login"
}
</code></pre>
</div>
</div>
<div id="outline-container-orgeb94b5b" class="outline-4">
<h4 id="orgeb94b5b">Update Product Details</h4>
<div class="outline-text-4" id="text-orgeb94b5b">
<p>
<b>Description:</b> Only sellers can update products.
</p>

<pre><code class="language-lisp">URL: /api/product/{prod_id}
Method: PUT

{
   "description": "new description",
   "height": "new height",
   "weight": "new weight",
   "colour": "new colour",
   "price": "new price",
   "token": "Token received in login"
}
</code></pre>
</div>
</div>
<div id="outline-container-orge09ff44" class="outline-4">
<h4 id="orge09ff44">Obtain Product Details</h4>
<div class="outline-text-4" id="text-orge09ff44">
<p>
<b>Description:</b> All users can see product details.
</p>

<pre><code class="language-lisp">URL: /api/product/{product_id}
Method: GET
</code></pre>
</div>
</div>
<div id="outline-container-orgcf7a37e" class="outline-4">
<h4 id="orgcf7a37e">Make an Order</h4>
<div class="outline-text-4" id="text-orgcf7a37e">
<p>
<b>Description:</b> Only buyers can make orders.
</p>

<pre><code class="language-lisp">URL: /api/order
Method: PUT

{
   "cart": [[Prod1, Quantity1], [Prod2, Quantity2], ...],
   "token": "Token received in login"
}
</code></pre>
</div>
</div>
<div id="outline-container-orgc3739a1" class="outline-4">
<h4 id="orgc3739a1">Rate and Comment a Product</h4>
<div class="outline-text-4" id="text-orgc3739a1">
<p>
<b>Description:</b> Buyers can rate and comment on purchased products.
</p>

<pre><code class="language-lisp">URL: /api/rating/{product_id}
Method: POST

{
    "rating": 0,
    "comment": "Put a comment",
    "token": "Token received in login"
}
</code></pre>
</div>
</div>
<div id="outline-container-org9852d9d" class="outline-4">
<h4 id="org9852d9d">Questions and Comments (Forum)</h4>
<div class="outline-text-4" id="text-org9852d9d">
<p>
<b>Description:</b> All users can ask or comment about products.
</p>
</div>
<ul class="org-ul">
<li><a id="org7b6a6f1"></a>Leave a Question<br />
<div class="outline-text-5" id="text-org7b6a6f1">
<pre><code class="language-lisp">URL: /api/questions/{prod_id}
Method: POST

{
   "question": "Put a question",
   "token": "Token received in login"
}
</code></pre>
</div>
</li>
<li><a id="orgd08cd97"></a>Answer a Question<br />
<div class="outline-text-5" id="text-orgd08cd97">
<pre><code class="language-lisp">URL: /api/questions/{prod_id}/{comment_id}
Method: POST

{
   "question": "Put a question",
   "token": "Token received in login"
}
</code></pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-org9b5defe" class="outline-4">
<h4 id="org9b5defe">Sales Statistics</h4>
<div class="outline-text-4" id="text-org9b5defe">
<p>
<b>Description:</b> Obtain sales statistics for the last 12 months.
</p>

<pre><code class="language-lisp">URL: /api/statistics
Method: GET

# Output Example
{
    "results": [
        {
            "month": "07-2021",
            "orders": 1,
            "total_value": "1622"
        },
        {
            "month": "09-2021",
            "orders": 2,
            "total_value": "2144"
        },
        {
            "month": "03-2022",
            "orders": 1,
            "total_value": "2784"
        },
        {
            "month": "01-2022",
            "orders": 1,
            "total_value": "4800"
        },
        {
            "month": "05-2022",
            "orders": 5,
            "total_value": "14717"
        }
    ],
    "status": 200
}
</code></pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd0a5140" class="outline-2">
<h2 id="orgd0a5140">Footer</h2>
<div class="outline-text-2" id="text-orgd0a5140">
<p>
Copyright © 2025 Joao ES Moreira
</p>

<p>
The contents of this website are licensed under the <a href="https://creativecommons.org/licenses/by-nd/4.0/">Creative Commons
Attribution-NoDerivatives 4.0 International License</a> (CC-BY-ND 4.0).
</p>

<p>
The source code of this website is licensed under the MIT license,
and available in <a href="https://github.com/JoaoESmoreira/joaomoreira.com/">GitHub</a> repositor.  User-submitted contributions to
the site are welcome, as long as the contributor agrees to license
their submission with the CC-BY-ND 4.0 license.
</p>
</div>
</div>
</div>
</body>
</html>
